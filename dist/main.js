!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function o(e){console.log("::: URL CHECKED :::");return/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e)}let r;t.r(n),t.d(n,"checkForName",(function(){return o})),t.d(n,"handleSubmit",(function(){return f}));let c=document.getElementById("model"),i=document.getElementById("agreement"),a=document.getElementById("subjectivity"),u=document.getElementById("confidence"),l=document.getElementById("irony"),d=document.getElementById("score_tag");async function f(){r=document.getElementById("name").value;var e;if(o(e=r)||console.log("Invalid url"),e)try{(async function(){const e=await fetch("/getApiKey");try{return await e.json()}catch(e){console.log("ERORR",e)}})().then((function(e){return async function(e){const n=`https://api.meaningcloud.com/sentiment-2.1?key=${e}&lang=auto&url=${r}`,t=await fetch(n);try{const e=await t.json();return console.log(e),e}catch(e){console.log("error: ",e)}}(e.api)})).then((function(e){(async(e="",n={})=>{await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})})("/postData",e)})).then((function(){s()}))}catch(e){console.log("invalid url",e)}else alert("Please double check the URL")}const s=async()=>{let e=await fetch("/getData");c.innerHTML="",i.innerHTML="",a.innerHTML="",u.innerHTML="",l.innerHTML="",d.innerHTML="";try{let n=await e.json();c.innerHTML="Model: "+n.model,i.innerHTML="Agreement: "+n.agreement,a.innerHTML="Subjectivity: "+n.subjectivity,u.innerHTML="Confidence: "+n.confidence,l.innerHTML="Irony: "+n.irony,d.innerHTML="Score tag: "+n.score_tag}catch(e){console.log("Error updateUI: ",e)}};document.getElementById("btnSubmit").addEventListener("click",(async()=>{f()}))}]);